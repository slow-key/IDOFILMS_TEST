<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Abanob Nashat Productions - Digital Card</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .profile-card-container {
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
            min-height: 100vh;
        }

        .header-bg {
            height: 250px;
            background-image: url('background.jpg');
            background-size: cover;
            background-position: center;
        }

        .profile-img {
            width: 150px;
            height: 150px;
            border: 4px solid white;
            margin-top: -50px;
            position: relative;
            z-index: 10;
        }

        .icon-link {
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .icon-link:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        'primary-dark': '#111827',
                        'link-red': '#E1306C',
                        'link-blue': '#4267B2',
                        'link-vcard': '#59b049',
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-50 font-sans p-4">

    <div class="profile-card-container bg-white shadow-xl rounded-xl p-0 text-center flex flex-col items-center">

        <div class="header-bg w-full rounded-t-xl"></div>

        <img src="profile.jpg" alt="Profile Picture" class="profile-img rounded-full shadow-lg">

        <h1 class="text-xl font-bold mt-3 mb-6 text-gray-800">Abanob Nashat Productions</h1>
        
        <button onclick="openShareModal()" class="bg-black text-white px-20 py-5 rounded-full font-semibold shadow-lg hover:bg-gray-800 transition duration-150 mb-6 text-lg">
            Share Your Info Back
        </button>
        

        <div class="w-full px-6 pb-8">
            <div class="grid grid-cols-3 gap-2">

                <a href="https://www.instagram.com/Idofilms.co/" class="icon-link flex flex-col items-center p-3 rounded-lg">
                    <img src="Instagram.jpg" alt="Instagram" class="w-20 h-20 rounded-xl object-cover shadow-md">
                    <span class="text-xs mt-1 text-gray-700 font-medium">Instagram</span>
                </a>
                
                <a href="#" class="icon-link flex flex-col items-center p-3 rounded-lg">
                    <img src="contact.png" alt="Contact Card" class="w-20 h-20 rounded-xl object-cover shadow-md">
                    <span class="text-xs mt-1 text-gray-700 font-medium">Contact Card</span>
                </a>
                
                <a href="https://idofilms.co/" class="icon-link flex flex-col items-center p-3 rounded-lg">
                    <img src="safari.png" alt="Website" class="w-20 h-20 rounded-xl object-cover shadow-md">
                    <span class="text-xs mt-1 text-gray-700 font-medium">Website</span>
                </a>

                <a href="https://www.facebook.com/IDoFilms.co" class="icon-link flex flex-col items-center p-3 rounded-lg">
                    <img src="facebook.png" alt="Facebook" class="w-20 h-20 rounded-xl object-cover shadow-md">
                    <span class="text-xs mt-1 text-gray-700 font-medium">Facebook</span>
                </a>
                
                <a href="#" class="icon-link flex flex-col items-center p-3 rounded-lg">
                    <img src="email.png" alt="Email" class="w-20 h-20 rounded-xl object-cover shadow-md">
                    <span class="text-xs mt-1 text-gray-700 font-medium">Email</span>
                </a>
                
                <a href="#" class="icon-link flex flex-col items-center p-3 rounded-lg">
                    <img src="phone.png" alt="Number" class="w-20 h-20 rounded-xl object-cover shadow-md">
                    <span class="text-xs mt-1 text-gray-700 font-medium">Number</span>
                </a>

            </div>
        </div>
        
    </div>
    
    <div id="shareInfoModal" class="fixed inset-0 bg-gray-900 bg-opacity-75 hidden flex items-center justify-center p-4 z-50">
        <div class="bg-white p-6 rounded-xl shadow-2xl max-w-sm w-full transform transition-all duration-300 scale-95 opacity-0" id="shareInfoModalContent">
            <h3 class="text-xl font-bold text-gray-800 mb-4">Share Your Contact Information</h3>
            
            <form id="contactForm" onsubmit="submitInfo(event)">
                <div class="mb-4">
                    <label for="userName" class="block text-left text-sm font-medium text-gray-700 mb-1">Name</label>
                    <input type="text" id="userName" name="userName" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-black focus:border-black transition duration-150">
                </div>
                <div class="mb-4">
                    <label for="userPhone" class="block text-left text-sm font-medium text-gray-700 mb-1">Phone Number</label>
                    <input type="tel" id="userPhone" name="userPhone" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-black focus:border-black transition duration-150">
                </div>
                <div class="mb-6">
                    <label for="userEmail" class="block text-left text-sm font-medium text-gray-700 mb-1">Email</label>
                    <input type="email" id="userEmail" name="userEmail" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-black focus:border-black transition duration-150">
                </div>

                <div class="flex space-x-3">
                    <button type="button" onclick="closeShareModal()" class="flex-1 text-gray-600 bg-gray-100 py-2 rounded-lg font-semibold hover:bg-gray-200 transition">
                        Cancel
                    </button>
                    <button type="submit" class="flex-1 bg-black text-white py-2 rounded-lg font-semibold hover:bg-gray-800 transition">
                        Submit Info
                    </button>
                </div>
            </form>
        </div>
    </div>

    <div id="confirmModal" class="fixed inset-0 bg-gray-900 bg-opacity-75 hidden flex items-center justify-center p-4 z-50">
        <div class="bg-white p-6 rounded-xl shadow-2xl max-w-sm w-full transform transition-all duration-300 scale-95 opacity-0" id="confirmModalContent">
            <h3 id="confirmTitle" class="text-xl font-bold mb-2"></h3>
            <p id="confirmMessage" class="text-gray-700 mb-4"></p>
            <button onclick="closeConfirmModal()" class="w-full bg-black text-white py-2 rounded-lg font-semibold hover:bg-gray-800 transition">
                Close
            </button>
        </div>
    </div>


    <script>
        const shareInfoModal = document.getElementById('shareInfoModal');
        const shareInfoModalContent = document.getElementById('shareInfoModalContent');
        
        const confirmModal = document.getElementById('confirmModal');
        const confirmModalContent = document.getElementById('confirmModalContent');
        const confirmTitle = document.getElementById('confirmTitle');
        const confirmMessage = document.getElementById('confirmMessage');


        function openShareModal() {
            shareInfoModal.classList.remove('hidden');
            setTimeout(() => {
                shareInfoModalContent.classList.remove('scale-95', 'opacity-0');
                shareInfoModalContent.classList.add('scale-100', 'opacity-100');
            }, 50);
        }

        function closeShareModal() {
            shareInfoModalContent.classList.remove('scale-100', 'opacity-100');
            shareInfoModalContent.classList.add('scale-95', 'opacity-0');
            setTimeout(() => {
                shareInfoModal.classList.add('hidden');
            }, 300);
        }

        function showConfirmModal(title, message, isSuccess = true) {
            confirmTitle.textContent = title;
            confirmMessage.textContent = message;
            confirmTitle.classList.toggle('text-green-600', isSuccess);
            confirmTitle.classList.toggle('text-red-600', !isSuccess);
            
            confirmModal.classList.remove('hidden');
            setTimeout(() => {
                confirmModalContent.classList.remove('scale-95', 'opacity-0');
                confirmModalContent.classList.add('scale-100', 'opacity-100');
            }, 50);
        }

        function closeConfirmModal() {
            confirmModalContent.classList.remove('scale-100', 'opacity-100');
            confirmModalContent.classList.add('scale-95', 'opacity-0');
            setTimeout(() => {
                confirmModal.classList.add('hidden');
            }, 300);
        }

        function submitInfo(event) {
            event.preventDefault();

            const name = document.getElementById('userName').value;
            const phone = document.getElementById('userPhone').value;
            const email = document.getElementById('userEmail').value;
            
            closeShareModal();

            const formData = {
                name: name,
                phone: phone,
                email: email,
            };

            console.log("Attempting to send data to server:", formData);
            
            const serverEndpoint = './save_contact.php'; 

            fetch(serverEndpoint, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(formData),
            })
            .then(response => {
                if (!response.ok) {
                    return response.json().catch(() => { throw new Error(`HTTP Error ${response.status}: Failed to reach or process data on server.`); });
                }
                return response.json(); 
            })
            .then(data => {
                if (data.success) {
                    const message = `Your information was successfully sent and saved to the 'contacts.csv' file on the server.`;
                    showConfirmModal("Data Saved!", message, true);
                } else {
                    const message = data.message || "An unexpected error occurred on the server while saving. Check server logs.";
                    showConfirmModal("Submission Failed", message, false);
                }
            })
            .catch(error => {
                const message = `Connection Error: Failed to complete request. Ensure PHP is set up and '${serverEndpoint}' is accessible. Details: ${error.message}`;
                showConfirmModal("Submission Failed", message, false);
            });
            
            document.getElementById('contactForm').reset();
        }

    </script>
</body>
</html>
